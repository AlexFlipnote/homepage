(()=>{var L=Object.defineProperty;var y=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var I=(e,n,t)=>n in e?L(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,B=(e,n)=>{for(var t in n||(n={}))F.call(n,t)&&I(e,t,n[t]);if(y)for(var t of y(n))R.call(n,t)&&I(e,t,n[t]);return e};var $=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),w=typeof InstallTrigger!="undefined",U=/^(?:chrome|moz)-extension:$/.test(location.protocol);var S={sq:"Albanian",af:"Afrikaans",ar:"Arabic",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh_cn:"Chinese Simplified",zh_tw:"Chinese Traditional",hr:"Croatian",cz:"Czech",da:"Danish",nl:"Dutch",en:"English",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",kr:"Korean",ku:"Kurmanji (Kurdish)",la:"Latvian",lt:"Lithuanian",mk:"Macedonian",no:"Norwegian",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pt_br:"Portugu\xEAs Brasil",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",se:"Swedish",th:"Thai",tr:"Turkish",ua:"Ukrainian",vi:"Vietnamese",zu:"Zulu"};var C={"en-US":"English (United States)","en-GB":"English (United Kingdom)","en-CA":"English (Canada)","en-AU":"English (Australia)","en-IN":"English (India)","no-NO":"Norwegian (Norway)","sv-SE":"Swedish (Sweden)","da-DK":"Danish (Denmark)","fi-FI":"Finnish (Finland)","is-IS":"Icelandic (Iceland)","de-DE":"German (Germany)","nl-NL":"Dutch (Netherlands)","fr-FR":"French (France)","es-ES":"Spanish (Spain)","it-IT":"Italian (Italy)","pt-PT":"Portuguese (Portugal)","pt-BR":"Portuguese (Brazil)","pl-PL":"Polish (Poland)","cs-CZ":"Czech (Czech Republic)","sk-SK":"Slovak (Slovakia)","hu-HU":"Hungarian (Hungary)","ru-RU":"Russian (Russia)","uk-UA":"Ukrainian (Ukraine)","ja-JP":"Japanese (Japan)","zh-CN":"Chinese (Simplified, China)","zh-TW":"Chinese (Traditional, Taiwan)","ko-KR":"Korean (South Korea)","th-TH":"Thai (Thailand)","hi-IN":"Hindi (India)","bn-BD":"Bengali (Bangladesh)","ar-SA":"Arabic (Saudi Arabia)","he-IL":"Hebrew (Israel)","tr-TR":"Turkish (Turkey)","fa-IR":"Persian (Iran)","af-ZA":"Afrikaans (South Africa)","sw-KE":"Swahili (Kenya)","es-MX":"Spanish (Mexico)","es-AR":"Spanish (Argentina)","fr-CA":"French (Canada)","en-NZ":"English (New Zealand)","el-GR":"Greek (Greece)","ro-RO":"Romanian (Romania)","id-ID":"Indonesian (Indonesia)","ms-MY":"Malay (Malaysia)","vi-VN":"Vietnamese (Vietnam)","ta-IN":"Tamil (India)"};var _={language:"",wlanguage:"",custombg:[],fmt_time:"",fmt_date:"",customfont:"",customfontgoogle:!1,bookmarks:[],bookmarksFavicon:!1,bookmarksTopSitesEnabled:!1,bookmarksTopSitesAmount:5,wkey:"",temp_type:"celcius",hexbg:!1,showSettings:!0,customcss:""};function s(e){let n=document.getElementById("language").value,t=document.getElementById("wlanguage").value,o=document.getElementById("customfont").value,a=document.getElementById("fmt_time").value,c=document.getElementById("fmt_date").value,m=document.getElementById("customfontgoogle").checked,d=document.getElementById("hexbg").checked,p=document.getElementById("wkey").value,l=document.getElementById("temp_type").value,r=document.getElementById("show-settings").checked,f=document.getElementById("customcss").value,u=document.getElementById("bookmarksTopSitesEnabled").checked,g=parseInt(document.getElementById("bookmarksTopSitesAmount").value)||5,k=document.getElementById("bookmarksFavicon").checked,b=[],i=document.getElementsByClassName("preview-image"),E=z();for(var h=0;h<i.length;h++)b.push(i[h].src);chrome.storage.local.set({language:n,wlanguage:t,custombg:b,fmt_time:a,fmt_date:c,customfont:o,customfontgoogle:m,wkey:p,hexbg:d,temp_type:l,showSettings:r,bookmarksFavicon:k,bookmarksTopSitesEnabled:u,bookmarksTopSitesAmount:g,customcss:f,bookmarks:E},()=>{let x=document.getElementById("notification"),v=document.createElement("div");v.classList.add("alert"),v.textContent=e||"Options saved",x.appendChild(v),setTimeout(()=>{v.remove()},3e3)})}function N(){chrome.storage.local.get(B({},_),e=>{let n=document.getElementById("language");n.value=e.language,n.onchange=()=>{s(`Language set: ${n.value||"default"}`)};let t=document.getElementById("wlanguage");t.value=e.wlanguage,t.onchange=()=>{s(`Weather language set: ${t.value||"default"}`)};let o=document.getElementById("fmt_time");o.value=e.fmt_time,o.onchange=()=>{s(`Time format set: ${o.value||"default"}`)};let a=document.getElementById("fmt_date");a.value=e.fmt_date,a.onchange=()=>{s(`Date format set: ${a.value||"default"}`)};let c=document.getElementById("customfont");c.value=e.customfont,c.onchange=()=>{s(`Custom font set: ${c.value||"default"}`)};let m=document.getElementById("customfontgoogle");m.checked=e.customfontgoogle,m.onchange=()=>{s(`Google font set: ${m.checked}`)};let d=document.getElementById("hexbg");d.checked=e.hexbg,d.onchange=()=>{s(`HEX background set: ${d.checked}`)};let p=document.getElementById("wkey");p.value=e.wkey,p.onchange=()=>{s("Saved OpenWeatherMap API key")};let l=document.getElementById("temp_type");l.value=e.temp_type,l.onchange=()=>{s(`Weather temperature type set: ${l.value}`)};let r=document.getElementById("show-settings");r.checked=e.showSettings,r.onchange=()=>{s(`Show settings button set: ${r.checked}`)};let f=document.getElementById("customcss");f.value=e.customcss,f.onchange=()=>{s("Custom CSS changed")};let u=document.getElementById("bookmarksTopSitesEnabled");u.checked=e.bookmarksTopSitesEnabled,u.onchange=()=>{s(`Bookmarks top sites set: ${u.checked}`)};let g=document.getElementById("bookmarksTopSitesAmount");g.value=e.bookmarksTopSitesAmount,g.onchange=()=>{s(`Bookmarks top sites amount set: ${g.value}`)};let k=document.getElementById("bookmarksFavicon");k.checked=e.bookmarksFavicon,k.onchange=()=>{s(`Bookmarks favicon set: ${k.checked}`)},w&&(document.getElementById("bmFavFirefox").style.display="none"),e.bookmarks.forEach(({name:E,url:h})=>{T(E,h)});let b=document.getElementById("custombg_previews");for(var i=0;i<e.custombg.length;i++)A(e.custombg[i],b)})}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("language");for(let[t,o]of Object.entries(C)){let a=document.createElement("option");a.text=o,a.value=t,e.appendChild(a)}let n=document.getElementById("wlanguage");for(let[t,o]of Object.entries(S)){let a=document.createElement("option");a.text=o,a.value=t,n.appendChild(a)}});document.getElementById("custombg_uploader").onchange=()=>{let e=document.getElementById("custombg_previews"),n=document.querySelector("input[type=file]").files[0],t=new FileReader;t.addEventListener("load",function(){A(t.result,e),s("Added new background image")},!1),n&&t.readAsDataURL(n)};document.getElementById("add_bookmark").onclick=()=>{T(document.getElementById("bookmark_name").value||"New Bookmark",document.getElementById("bookmark_url").value||"#"),document.getElementById("bookmark_name").value="",document.getElementById("bookmark_url").value="",s("Added new bookmark")};document.body.onclick=function(e){e.target.getAttribute("class")=="preview-image"&&(e.target.remove(),s("Removed background image"))};function P(){let e=document.getElementById("custombg_previews");for(;e.firstChild;)e.removeChild(e.firstChild)}function A(e,n){let t=document.createElement("div");t.classList.add("preview-container");let o=document.createElement("img");o.classList.add("preview-image"),o.src=e,t.append(o),n.append(t)}function T(e,n){let t=document.getElementById("blist"),o=document.createElement("div");o.classList.add("bookmark-item");let a=document.createElement("input"),c=document.createElement("input"),m=document.createElement("button");a.type="text",a.value=e,a.classList.add("bookmark-name"),c.type="text",c.value=n,c.classList.add("bookmark-url"),m.textContent="Remove",m.onclick=function(){o.remove(),s("Removed bookmark")},o.appendChild(a),o.appendChild(c),o.appendChild(m),a.onchange=()=>{s("Changed bookmark name")},c.onchange=()=>{s("Changed bookmark URL")},t.appendChild(o)}function z(){let n=document.getElementById("blist").getElementsByClassName("bookmark-item"),t=[];for(var o=0;o<n.length;o++){let a=n[o],c=a.getElementsByClassName("bookmark-name")[0].value,m=a.getElementsByClassName("bookmark-url")[0].value||"#";t.push({name:c,url:m})}return t}document.addEventListener("DOMContentLoaded",N);document.getElementById("custombg_prune").addEventListener("click",P);})();
