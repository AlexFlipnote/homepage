(()=>{var N=Object.defineProperty;var I=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var B=(e,n,t)=>n in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,w=(e,n)=>{for(var t in n||(n={}))P.call(n,t)&&B(e,t,n[t]);if(I)for(var t of I(n))$.call(n,t)&&B(e,t,n[t]);return e};var M=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),_=typeof InstallTrigger!="undefined",O=/^(?:chrome|moz)-extension:$/.test(location.protocol);var S={sq:"Albanian",af:"Afrikaans",ar:"Arabic",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh_cn:"Chinese Simplified",zh_tw:"Chinese Traditional",hr:"Croatian",cz:"Czech",da:"Danish",nl:"Dutch",en:"English",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",kr:"Korean",ku:"Kurmanji (Kurdish)",la:"Latvian",lt:"Lithuanian",mk:"Macedonian",no:"Norwegian",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pt_br:"Portugu\xEAs Brasil",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",se:"Swedish",th:"Thai",tr:"Turkish",ua:"Ukrainian",vi:"Vietnamese",zu:"Zulu"};var C={"en-US":"English (United States)","en-GB":"English (United Kingdom)","en-CA":"English (Canada)","en-AU":"English (Australia)","en-IN":"English (India)","no-NO":"Norwegian (Norway)","sv-SE":"Swedish (Sweden)","da-DK":"Danish (Denmark)","fi-FI":"Finnish (Finland)","is-IS":"Icelandic (Iceland)","de-DE":"German (Germany)","nl-NL":"Dutch (Netherlands)","fr-FR":"French (France)","es-ES":"Spanish (Spain)","it-IT":"Italian (Italy)","pt-PT":"Portuguese (Portugal)","pt-BR":"Portuguese (Brazil)","pl-PL":"Polish (Poland)","cs-CZ":"Czech (Czech Republic)","sk-SK":"Slovak (Slovakia)","hu-HU":"Hungarian (Hungary)","ru-RU":"Russian (Russia)","uk-UA":"Ukrainian (Ukraine)","ja-JP":"Japanese (Japan)","zh-CN":"Chinese (Simplified, China)","zh-TW":"Chinese (Traditional, Taiwan)","ko-KR":"Korean (South Korea)","th-TH":"Thai (Thailand)","hi-IN":"Hindi (India)","bn-BD":"Bengali (Bangladesh)","ar-SA":"Arabic (Saudi Arabia)","he-IL":"Hebrew (Israel)","tr-TR":"Turkish (Turkey)","fa-IR":"Persian (Iran)","af-ZA":"Afrikaans (South Africa)","sw-KE":"Swahili (Kenya)","es-MX":"Spanish (Mexico)","es-AR":"Spanish (Argentina)","fr-CA":"French (Canada)","en-NZ":"English (New Zealand)","el-GR":"Greek (Greece)","ro-RO":"Romanian (Romania)","id-ID":"Indonesian (Indonesia)","ms-MY":"Malay (Malaysia)","vi-VN":"Vietnamese (Vietnam)","ta-IN":"Tamil (India)"};var x={language:"",wlanguage:"",searchbar:!1,custombg:[],fmt_time:"",fmt_date:"",customfont:"",customfontgoogle:!1,bookmarks:[],bookmarksFavicon:!1,bookmarksTopSitesEnabled:!1,bookmarksTopSitesAmount:5,wkey:"",temp_type:"celcius",hexbg:!1,showSettings:!0,customcss:""};var A="2.2.10";var T=document.getElementById("version");T&&(T.textContent=A);function s(e){let n=document.getElementById("language").value,t=document.getElementById("wlanguage").value,o=document.getElementById("customfont").value,a=document.getElementById("fmt_time").value,c=document.getElementById("fmt_date").value,i=document.getElementById("customfontgoogle").checked,r=document.getElementById("hexbg").checked,d=document.getElementById("wkey").value,f=document.getElementById("temp_type").value,l=document.getElementById("show-settings").checked,u=document.getElementById("customcss").value,b=document.getElementById("bookmarksTopSitesEnabled").checked,g=parseInt(document.getElementById("bookmarksTopSitesAmount").value)||5,h=document.getElementById("bookmarksFavicon").checked,p=document.getElementById("searchbar").checked,v=[],m=document.getElementsByClassName("preview-image"),y=H();for(var k=0;k<m.length;k++)v.push(m[k].src);chrome.storage.local.set({language:n,wlanguage:t,custombg:v,fmt_time:a,searchbar:p,fmt_date:c,customfont:o,customfontgoogle:i,wkey:d,hexbg:r,temp_type:f,showSettings:l,bookmarksFavicon:h,bookmarksTopSitesEnabled:b,bookmarksTopSitesAmount:g,customcss:u,bookmarks:y},()=>{let R=document.getElementById("notification"),E=document.createElement("div");E.classList.add("alert"),E.textContent=e||"Options saved",R.appendChild(E),setTimeout(()=>{E.remove()},3e3)})}function U(){chrome.storage.local.get(w({},x),e=>{let n=document.getElementById("language");n.value=e.language,n.onchange=()=>{s(`Language set: ${n.value||"default"}`)};let t=document.getElementById("searchbar");t.checked=e.searchbar,t.onchange=()=>{s(`Search bar set: ${t.checked}`)};let o=document.getElementById("wlanguage");o.value=e.wlanguage,o.onchange=()=>{s(`Weather language set: ${o.value||"default"}`)};let a=document.getElementById("fmt_time");a.value=e.fmt_time,a.onchange=()=>{s(`Time format set: ${a.value||"default"}`)};let c=document.getElementById("fmt_date");c.value=e.fmt_date,c.onchange=()=>{s(`Date format set: ${c.value||"default"}`)};let i=document.getElementById("customfont");i.value=e.customfont,i.onchange=()=>{s(`Custom font set: ${i.value||"default"}`)};let r=document.getElementById("customfontgoogle");r.checked=e.customfontgoogle,r.onchange=()=>{s(`Google font set: ${r.checked}`)};let d=document.getElementById("hexbg");d.checked=e.hexbg,d.onchange=()=>{s(`HEX background set: ${d.checked}`)};let f=document.getElementById("wkey");f.value=e.wkey,f.onchange=()=>{s("Saved OpenWeatherMap API key")};let l=document.getElementById("temp_type");l.value=e.temp_type,l.onchange=()=>{s(`Weather temperature type set: ${l.value}`)};let u=document.getElementById("show-settings");u.checked=e.showSettings,u.onchange=()=>{s(`Show settings button set: ${u.checked}`)};let b=document.getElementById("customcss");b.value=e.customcss,b.onchange=()=>{s("Custom CSS changed")};let g=document.getElementById("bookmarksTopSitesEnabled");g.checked=e.bookmarksTopSitesEnabled,g.onchange=()=>{s(`Bookmarks top sites set: ${g.checked}`)};let h=document.getElementById("bookmarksTopSitesAmount");h.value=e.bookmarksTopSitesAmount,h.onchange=()=>{s(`Bookmarks top sites amount set: ${h.value}`)};let p=document.getElementById("bookmarksFavicon");p.checked=e.bookmarksFavicon,p.onchange=()=>{s(`Bookmarks favicon set: ${p.checked}`)},_&&(document.getElementById("bmFavFirefox").style.display="none"),e.bookmarks.forEach(({name:y,url:k})=>{F(y,k)});let v=document.getElementById("custombg_previews");for(var m=0;m<e.custombg.length;m++)L(e.custombg[m],v)})}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("language");for(let[t,o]of Object.entries(C)){let a=document.createElement("option");a.text=o,a.value=t,e.appendChild(a)}let n=document.getElementById("wlanguage");for(let[t,o]of Object.entries(S)){let a=document.createElement("option");a.text=o,a.value=t,n.appendChild(a)}});document.getElementById("custombg_uploader").onchange=()=>{let e=document.getElementById("custombg_previews"),n=document.querySelector("input[type=file]").files[0],t=new FileReader;t.addEventListener("load",function(){L(t.result,e),s("Added new background image")},!1),n&&t.readAsDataURL(n)};document.getElementById("add_bookmark").onclick=()=>{F(document.getElementById("bookmark_name").value||"New Bookmark",document.getElementById("bookmark_url").value||"#"),document.getElementById("bookmark_name").value="",document.getElementById("bookmark_url").value="",s("Added new bookmark")};document.body.onclick=function(e){e.target.getAttribute("class")=="preview-image"&&(e.target.remove(),s("Removed background image"))};function G(){let e=document.getElementById("custombg_previews");for(;e.firstChild;)e.removeChild(e.firstChild)}function L(e,n){let t=document.createElement("div");t.classList.add("preview-container");let o=document.createElement("img");o.classList.add("preview-image"),o.src=e,t.append(o),n.append(t)}function F(e,n){let t=document.getElementById("blist"),o=document.createElement("div");o.classList.add("bookmark-item");let a=document.createElement("input"),c=document.createElement("input"),i=document.createElement("button");a.type="text",a.value=e,a.classList.add("bookmark-name"),c.type="text",c.value=n,c.classList.add("bookmark-url"),i.textContent="Remove",i.onclick=function(){o.remove(),s("Removed bookmark")},o.appendChild(a),o.appendChild(c),o.appendChild(i),a.onchange=()=>{s("Changed bookmark name")},c.onchange=()=>{s("Changed bookmark URL")},t.appendChild(o)}function H(){let n=document.getElementById("blist").getElementsByClassName("bookmark-item"),t=[];for(var o=0;o<n.length;o++){let a=n[o],c=a.getElementsByClassName("bookmark-name")[0].value,i=a.getElementsByClassName("bookmark-url")[0].value||"#";t.push({name:c,url:i})}return t}document.addEventListener("DOMContentLoaded",U);document.getElementById("custombg_prune").addEventListener("click",G);})();
